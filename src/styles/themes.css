/**
 * Theme System
 * Light and Dark theme color mappings
 */

/* ============================================
   LIGHT THEME (Default)
   ============================================ */

:root,
[data-theme='light'] {
  color-scheme: light;
  
  /* Background Colors */
  --bg-primary: var(--color-white);
  --bg-secondary: var(--color-gray-50);
  --bg-tertiary: var(--color-gray-100);
  --bg-inverse: var(--color-gray-900);
  
  /* Text Colors */
  --text-primary: var(--color-gray-900);
  --text-secondary: var(--color-gray-600);
  --text-tertiary: var(--color-gray-500);
  --text-inverse: var(--color-white);
  --text-link: var(--color-primary-600);
  --text-link-hover: var(--color-primary-700);
  
  /* Border Colors */
  --border-primary: var(--color-gray-200);
  --border-secondary: var(--color-gray-300);
  --border-focus: var(--color-primary-500);
  
  /* Component Backgrounds */
  --card-bg: var(--color-white);
  --input-bg: var(--color-white);
  --input-bg-disabled: var(--color-gray-100);
  
  /* Overlay Colors */
  --overlay-bg: rgba(0, 0, 0, 0.5);
  --overlay-light: rgba(0, 0, 0, 0.1);
  
  /* Scrollbar Colors */
  --scrollbar-track: var(--color-gray-100);
  --scrollbar-thumb: var(--color-gray-400);
  --scrollbar-thumb-hover: var(--color-gray-500);
  
  /* State Colors */
  --state-hover-bg: var(--color-gray-50);
  --state-active-bg: var(--color-gray-100);
  --state-disabled-bg: var(--color-gray-200);
  --state-disabled-text: var(--color-gray-400);
}

/* ============================================
   DARK THEME
   ============================================ */

[data-theme='dark'] {
  color-scheme: dark;
  
  /* Background Colors */
  --bg-primary: var(--color-gray-900);
  --bg-secondary: var(--color-gray-800);
  --bg-tertiary: var(--color-gray-700);
  --bg-inverse: var(--color-white);
  
  /* Text Colors */
  --text-primary: var(--color-gray-50);
  --text-secondary: var(--color-gray-400);
  --text-tertiary: var(--color-gray-500);
  --text-inverse: var(--color-gray-900);
  --text-link: var(--color-primary-400);
  --text-link-hover: var(--color-primary-300);
  
  /* Border Colors */
  --border-primary: var(--color-gray-700);
  --border-secondary: var(--color-gray-600);
  --border-focus: var(--color-primary-500);
  
  /* Component Backgrounds */
  --card-bg: var(--color-gray-800);
  --input-bg: var(--color-gray-800);
  --input-bg-disabled: var(--color-gray-700);
  
  /* Overlay Colors */
  --overlay-bg: rgba(0, 0, 0, 0.7);
  --overlay-light: rgba(255, 255, 255, 0.1);
  
  /* Scrollbar Colors */
  --scrollbar-track: var(--color-gray-800);
  --scrollbar-thumb: var(--color-gray-600);
  --scrollbar-thumb-hover: var(--color-gray-500);
  
  /* State Colors */
  --state-hover-bg: var(--color-gray-700);
  --state-active-bg: var(--color-gray-600);
  --state-disabled-bg: var(--color-gray-700);
  --state-disabled-text: var(--color-gray-600);
  
  /* Adjust shadows for dark mode */
  --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.4);
  --shadow-base: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.4);
}

/* ============================================
   SYSTEM PREFERENCE DETECTION
   ============================================ */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme='light']) {
    color-scheme: dark;
    
    --bg-primary: var(--color-gray-900);
    --bg-secondary: var(--color-gray-800);
    --bg-tertiary: var(--color-gray-700);
    
    --text-primary: var(--color-gray-50);
    --text-secondary: var(--color-gray-400);
    --text-tertiary: var(--color-gray-500);
    
    --border-primary: var(--color-gray-700);
    --border-secondary: var(--color-gray-600);
    
    --card-bg: var(--color-gray-800);
    --input-bg: var(--color-gray-800);
    
    --scrollbar-track: var(--color-gray-800);
    --scrollbar-thumb: var(--color-gray-600);
  }
}

/* ============================================
   THEME UTILITIES
   ============================================ */

.theme-transition {
  transition: background-color var(--duration-300) var(--ease-in-out),
              color var(--duration-300) var(--ease-in-out),
              border-color var(--duration-300) var(--ease-in-out);
}

/* Smooth theme switching */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-duration: var(--duration-200);
  transition-timing-function: var(--ease-in-out);
}

/* Prevent transition on page load */
.preload * {
  transition: none !important;
}
